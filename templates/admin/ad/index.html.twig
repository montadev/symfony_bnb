{% extends 'admin/base.html.twig' %}

{% block title %}Administartions des annonces{% endblock %}

{% block body %}

  <div class="container-fluid">
    <h2 class="my-5">Gestion des annonces </h1>

    <table class="table table-hover">
      <thead>
       <tr>
         <th>Id</th>
         <th>Titre</th>
         <th>Auteur</th>
         <th class="text-center">RÃ©servation</th>
         <th class="text-center">Note</th>
         <th>Actions</th>
       </tr>
      </thead>

      <tbody>
      {% for ad in pagination.getData()  %}
       <tr>
       
         <th>{{ad.id}}</th>
         <th>{{ad.title}}</th>
         <th>
         <img src="{{ad.author.picture}}" alt="" class="avatar avatar-micro mr-2">
         {{ad.author.firstName}} {{ad.author.lastName}}
         </th>
         <th class="text-center">

         <span class="badge badge-primary rounded">{{ad.bookings | length }}</span>
         
         </th>
         <th class="text-center">
         <span class="badge badge-primary rounded">
         {{ad.getAvgRatings | number_format(1,',', ' ')}}
         </span>
         </th>
         <th>
         <a href="{{path('admin_ads_edit',{id:ad.id})}}" class="btn btn-primary"><i class="fas fa-edit"></i></a>
         <a href="{{path('admin_ads_delete',{id:ad.id})}}" class="btn btn-danger"><i class="fas fa-trash"></i></a>
         </th>
       
       </tr>
       {% endfor %}
      </tbody>

    </table>

      
      {{ pagination.display()  }}

  </div>
{% endblock %}
